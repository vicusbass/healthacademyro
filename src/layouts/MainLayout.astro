---
// Importing necessary components
import Meta from '@components/Meta.astro';
import Navbar from '@components/sections/Navbar.astro';
import FooterSection from '@components/sections/FooterSection.astro';
import SpeedInsights from '@vercel/speed-insights/astro';
import { SITE } from '@data/constants';

// Setting expected props
const { title = SITE.title, meta, structuredData, lang = 'ro' } = Astro.props;

// Interface to type-check the properties
interface StructuredWebPage {
  '@context': string;
  '@type': string;
  inLanguage: string;
  '@id': string;
  url: string;
  name: string;
  description: string;
  isPartOf?: {
    '@type': string;
    url: string;
    name: string;
    description: string;
  };
  // Add other properties if necessary based on full SEO.structuredData structure
}

interface Props {
  title?: string;
  meta?: string;
  structuredData?: StructuredWebPage;
  lang?: string;
}
---

<html lang={lang} class="scrollbar-hide dark scroll-pt-16">
  <head>
    <style>
      @keyframes fadeInBody {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      body.preload-fade {
        opacity: 0; /* Start hidden */
        animation: fadeInBody 0.4s ease-in-out 0.1s forwards; /* Delay slightly, then fade in */
      }
    </style>
    <!-- Adding metadata to the HTML document -->
    <Meta meta={meta} structuredData={structuredData} />
    <SpeedInsights />
    <!-- Define the title of the page -->
    <title>{title}</title>
  </head>
  <body class="preload-fade bg-neutral-200 selection:bg-yellow-400 selection:text-neutral-700 dark:bg-neutral-800">

    <div class="mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8">
      <Navbar />
      <main class="page-content">
        <slot />
      </main>
    </div>
    <FooterSection />
  </body>
</html>
